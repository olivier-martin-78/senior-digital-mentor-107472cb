
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Senior Digital Mentor - Se former au digital Ã  mon rythme</title>
    <meta name="description" content="Senior Digital Mentor - Des activitÃ©s digitales qui me font du bien et me sentir moins seul(e)." />
    <meta name="author" content="Marie Durand" />
    
    <link rel="icon" href="/lovable-uploads/a18fae4a-22ff-4b00-88db-0dabc001de19.png" type="image/png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap">

    <meta property="og:title" content="Senior Digital Mentor" />
    <meta property="og:description" content="Des activitÃ©s digitales qui me font du bien et me sentir moins seul(e)." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/SeniorDigital.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="/SeniorDigital.png" />
  </head>

  <body>
    <!-- Debug ultra-basique - doit s'afficher mÃªme si tout plante -->
    <div id="debug-status" style="position:fixed;top:0;left:0;background:lime;color:black;z-index:9999;padding:5px;font-size:12px;">
      HTML chargÃ©
    </div>
    
    <script>
      // Emergency polyfills AVANT TOUT
      (function() {
        console.log('ðŸ”¥ EMERGENCY: Script de secours iOS Safari');
        
        // globalThis polyfill
        if (typeof globalThis === 'undefined') {
          console.log('ðŸ”¥ EMERGENCY: globalThis manquant, crÃ©ation');
          try {
            Object.defineProperty(Object.prototype, '__magic__', {
              get: function() { return this; },
              configurable: true
            });
            __magic__.globalThis = __magic__;
            delete Object.prototype.__magic__;
          } catch(e) {
            window.globalThis = window;
          }
        }
        
        // Promise.allSettled polyfill pour Safari < 13
        if (!Promise.allSettled) {
          Promise.allSettled = function(promises) {
            return Promise.all(promises.map(p => 
              Promise.resolve(p).then(value => ({
                status: 'fulfilled',
                value: value
              }), error => ({
                status: 'rejected',
                reason: error
              }))
            ));
          };
        }
        
        console.log('ðŸ”¥ EMERGENCY: Polyfills installÃ©s');
        console.log('ðŸ”¥ EMERGENCY: globalThis disponible:', typeof globalThis !== 'undefined');
        console.log('ðŸ”¥ EMERGENCY: Promise.allSettled disponible:', typeof Promise.allSettled === 'function');
        console.log('ðŸ”¥ EMERGENCY: User Agent:', navigator.userAgent);
        
        // DÃ©tection iOS spÃ©cifique
        var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) || 
                   (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
        console.log('ðŸ”¥ EMERGENCY: iOS dÃ©tectÃ©:', isIOS);
        
        // Update status avec plus d'infos
        var debugEl = document.getElementById('debug-status');
        if (debugEl) {
          debugEl.innerHTML = 'Emergency polyfills OK - iOS: ' + isIOS;
          debugEl.style.background = isIOS ? 'orange' : 'lime';
        }
      })();
      
      // Test module loading
      window.addEventListener('error', function(e) {
        console.error('ðŸ”¥ GLOBAL ERROR:', e.error, e.filename, e.lineno);
        document.getElementById('debug-status').innerHTML = 'ERREUR: ' + e.message;
        document.getElementById('debug-status').style.background = 'red';
        document.getElementById('debug-status').style.color = 'white';
      });
      
      // Test unhandled promise rejections  
      window.addEventListener('unhandledrejection', function(e) {
        console.error('ðŸ”¥ UNHANDLED REJECTION:', e.reason);
        document.getElementById('debug-status').innerHTML = 'PROMISE ERREUR: ' + e.reason;
        document.getElementById('debug-status').style.background = 'orange';
      });
      
      // Test si les modules se chargent
      setTimeout(() => {
        console.log('ðŸ”¥ TIMEOUT 2S: VÃ©rification chargement modules');
        if (!window.React) {
          document.getElementById('debug-status').innerHTML = 'Module non chargÃ© aprÃ¨s 2s';
          document.getElementById('debug-status').style.background = 'yellow';
        }
      }, 2000);
    </script>
    
    <div id="root"></div>
    <!-- Scripts avec fallback iOS -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module" onerror="console.error('ðŸ”¥ EMERGENCY: Ã‰chec chargement gptengineer.js')"></script>
    <script type="module" src="/src/main.tsx" onerror="console.error('ðŸ”¥ EMERGENCY: Ã‰chec chargement main.tsx'); document.getElementById('debug-status').innerHTML = 'ERREUR: main.tsx non chargÃ©'; document.getElementById('debug-status').style.background = 'red';"></script>
    
    <!-- Fallback absolu pour iOS si modules Ã©chouent -->
    <script>
      setTimeout(function() {
        if (!window.React && !document.querySelector('#root > *')) {
          console.error('ðŸ”¥ EMERGENCY: Aucun contenu chargÃ© aprÃ¨s 3s');
          var debugEl = document.getElementById('debug-status');
          if (debugEl) {
            debugEl.innerHTML = 'Ã‰CHEC TOTAL - iOS Safari incompatible';
            debugEl.style.background = 'red';
            debugEl.style.color = 'white';
            debugEl.style.fontSize = '14px';
            debugEl.style.padding = '10px';
          }
          
          // Affichage d'urgence
          var root = document.getElementById('root');
          if (root && !root.innerHTML.trim()) {
            root.innerHTML = '<div style="padding:20px;font-family:Arial;background:#f0f0f0;margin:20px;border-radius:8px;"><h2 style="color:#d32f2f;">ProblÃ¨me de compatibilitÃ© iOS Safari</h2><p>Cette page n\'est temporairement pas compatible avec votre navigateur iOS.</p><p>Essayez d\'ouvrir le lien dans un autre navigateur ou sur un ordinateur.</p><p style="font-size:12px;color:#666;">User Agent: ' + navigator.userAgent + '</p></div>';
          }
        }
      }, 3000);
    </script>
  </body>
</html>
